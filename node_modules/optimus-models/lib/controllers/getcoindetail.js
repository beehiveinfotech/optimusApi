'use strict'

const axios = require('axios');

let coins = ['HNTUSDT','ETHUSDT','ZECUSDT','LTCUSDT','ADAUSDT','DOGEUSDT','XRPUSDT','BNBUSDT','XMRUSDT','ETCUSDT','MATICUSDT','TRXUSDT','RVNUSDT']

module.exports.getcoindeial = (req, res,next) => {
    return new Promise((resolve,reject)=>{
        axios.get('https://api.binance.com/api/v3/ticker/24hr')
        .then(function (data) {
            return resolve(data)
        })
    })
    .then(values=>{
        const myArrayFiltered = values.data.filter((el) => {
            return coins.some((item) => {
              return item === el.symbol;
            });
          });
          console.log('myArrayFiltered',myArrayFiltered)
        res.status(200).json(myArrayFiltered)
       }).catch(error=>{
        res.status(200).json(error)
       })
    
}
